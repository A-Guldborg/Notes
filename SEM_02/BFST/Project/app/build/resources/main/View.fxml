<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.*?>
<?import javafx.scene.layout.*?>
<?import BFST22Group10.Views.*?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Button?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.ToggleGroup?>

<?import javafx.scene.control.ContextMenu?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.CheckBox?>
<Scene fx:id="scene"
       xmlns="http://javafx.com/javafx"
       xmlns:fx="http://javafx.com/fxml"
>
        <root>
            <BorderPane fx:id="boarderPane" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="500.0" prefWidth="1000.0">
                <center>
                    <AnchorPane fx:id="anchorPane" prefHeight="600.0" prefWidth="1200.0" BorderPane.alignment="CENTER">
                        <BorderPane.margin>
                            <Insets left="250" bottom="100" />
                        </BorderPane.margin>
                        <children>
                            <MapCanvas fx:id="mapCanvas"
                                       onMousePressed="#onMousePressed"
                                       onScroll="#onScroll"
                                       onMouseDragged="#onMouseDragged"
                                       onMouseMoved="#findNearestNeighbor">
                            </MapCanvas>
                        </children>
                    </AnchorPane>
                </center>
                <fx:define>
                    <ContextMenu fx:id="contextMenu">
                        <items>
                            <MenuItem text="Directions From Here"
                                      onAction="#directionsFromHere"
                            />
                        </items>
                        <items>
                            <MenuItem text="Directions To Here"
                                      onAction="#directionsToHere"
                            />
                        </items>
                        <items>
                            <MenuItem text="Add Point Of Interest"
                                      onAction="#pointOfInterest"
                            />
                        </items>
                    </ContextMenu>
                </fx:define>
                <bottom>
                    <FlowPane fx:id="flowPane" prefHeight="35.0" prefWidth="200.0" BorderPane.alignment="CENTER">
                        <children>
                            <Button fx:id="buttonPlus" mnemonicParsing="false" text="+"
                                    onMousePressed="#plusPushed"
                            >
                                <FlowPane.margin>
                                    <Insets bottom="3.0" left="3.0" right="1.5" top="3.0" />
                                </FlowPane.margin>
                            </Button>
                            <Button fx:id="buttonMinus" layoutX="13.0" layoutY="13.0" mnemonicParsing="false" text="-"
                                    onAction="#minusPushed"
                            >
                                <FlowPane.margin>
                                    <Insets bottom="3.0" left="1.5" right="1.5" top="3.0" />
                                </FlowPane.margin>
                            </Button>
                            <TextField fx:id="label" promptText="Zoom Level:" text="Zoom Level:">
                                <FlowPane.margin>
                                    <Insets bottom="3.0" left="1.5" right="1.5" top="3.0" />
                                </FlowPane.margin>
                            </TextField>
                            <TextField fx:id="searchTime" promptText="Search time:" minWidth="200" visible="true">
                                <FlowPane.margin>
                                    <Insets bottom="3.0" left="1.5" right="1.5" top="3.0" />
                                </FlowPane.margin>
                            </TextField>
                        </children>
                    </FlowPane>
                </bottom>
                <top>
                    <VBox fx:id="vBox" prefHeight="48.0" prefWidth="1000.0" maxWidth="400" BorderPane.alignment="CENTER_LEFT">
                        <children>
                            <MenuBar fx:id="menuBar">
                                <menus>
                                    <Menu text="File">
                                        <items>
                                            <MenuItem text="Choose file"
                                                      onAction="#uploadFile"
                                            />
                                            <MenuItem text="Serialize file"
                                                      onAction="#serializeFile"
                                            />
                                        </items>
                                    </Menu>
                                    <Menu text="Debug">
                                        <items>
                                            <MenuItem text="Change color mode"
                                                      onAction="#changeColor"
                                            />
                                            <MenuItem text="Debug Tree"
                                                      onAction="#showSpatialTreeDebug"
                                            />
                                            <MenuItem text="Change Spatial Tree"
                                                      onAction="#changeSpatialTree"
                                            />
                                            <MenuItem text="Nearest Neighbor"
                                                      onAction="#NearestNeighbor"
                                            />
                                            <MenuItem text="Route Search Timer"
                                                      onAction="#timer"
                                            />
                                            <MenuItem text="Debug Routesearch"
                                                      onAction="#debugRouteSearch"
                                            />
                                            <MenuItem text="Nearest Road"
                                                      onAction="#setAddressFieldVisibility"
                                            />

                                        </items>
                                    </Menu>
                                    <Menu text="Saved Addresses">
                                        <items>
                                            <Menu fx:id="menuPOI" text="Saved Addresses">
                                                <items>
                                                </items>
                                            </Menu>
                                        </items>
                                    </Menu>
                                </menus>                  </MenuBar>
                            <HBox prefHeight="100.0" prefWidth="200.0">
                        <children>
                            <ComboBox
                                    fx:id="addressSearchBar"
                                    prefWidth="250.0"
                                      editable="true"
                                      onAction="#searchAddress"
                                      onKeyReleased="#suggestAddress"
                            >
                                <HBox.margin>
                                    <Insets bottom="3.0" left="3.0" right="3.0" top="3.0" />
                                </HBox.margin>
                            </ComboBox>
                            <Button fx:id = "GoButton" mnemonicParsing="false" text="GO" onAction="#searchSingleAddress">
                                <HBox.margin>
                                    <Insets bottom="3.0" left="-28" right="3.0" top="3.0" />
                                </HBox.margin>
                            </Button>
                            <Button fx:id = "RouteSearchButton" mnemonicParsing="false" text="Route Search" onAction="#showRouteSearch">
                                <HBox.margin>
                                    <Insets bottom="3.0" left="1.5" right="3.0" top="3.0" />
                                </HBox.margin>
                            </Button>
                        </children>
                            </HBox>
                            <ComboBox
                                    fx:id="secondAddressSearchBar"
                                    prefWidth="250.0"
                                    editable="true"
                                    visible="false"
                                    onAction="#searchAddressTwo"
                                    onKeyReleased="#suggestAddress"
                            >
                                <VBox.margin>
                                    <Insets bottom="3.0" left="3.0" right="3.0" top="3.0" />
                                </VBox.margin>
                            </ComboBox>
                            <Button
                                fx:id="pathButton"
                                prefWidth="250.0"
                                text="Find shortest path"
                                visible="false"
                                onAction="#findShortestPath">
                                <VBox.margin>
                                    <Insets bottom="3.0" left="3.0" right="3.0" top="3.0" />
                                </VBox.margin>
                            </Button>
                            <HBox>
                                <RadioButton
                                        fx:id="radioButtonCar"
                                        text="Car"
                                        selected="true"
                                        visible="false"
                                        onAction="#selectWayToTravel"
                                >
                                    <HBox.margin>
                                        <Insets bottom="3.0" left="5.0" right="3.0" top="7.5" />
                                    </HBox.margin>
                                    <toggleGroup>
                                        <ToggleGroup fx:id="wayToTravelGroup"/>
                                    </toggleGroup>
                                </RadioButton>
                                <RadioButton
                                        fx:id="radioButtonBicycle"
                                        text="Bicycle"
                                        visible="false"
                                        onAction="#selectWayToTravel"
                                >
                                    <HBox.margin>
                                        <Insets bottom="3.0" left="5.0" right="3.0" top="7.5" />
                                    </HBox.margin>
                                    <toggleGroup>
                                        <fx:reference source="wayToTravelGroup"/>
                                    </toggleGroup>
                                </RadioButton>
                                <RadioButton
                                        fx:id="radioButtonWalk"
                                        text="Walk"
                                        visible="false"
                                        onAction="#selectWayToTravel"

                                >
                                    <HBox.margin>
                                        <Insets bottom="3.0" left="5.0" right="3.0" top="7.5" />
                                    </HBox.margin>
                                    <toggleGroup>
                                        <fx:reference source="wayToTravelGroup"/>
                                    </toggleGroup>
                                </RadioButton>
                                <Button fx:id = "flipButton" mnemonicParsing="false" text="Flip Add." visible="false" onAction="#flipAddress">
                                    <HBox.margin>
                                        <Insets bottom="3.0" left="10" right="3.0" top="3.0" />
                                    </HBox.margin>
                                </Button>
                            </HBox>
                            <CheckBox
                                fx:id="checkBoxTrailer"
                                text="Trailer"
                                visible="false"
                                onAction="#hasTrailer"
                            >
                                <VBox.margin>
                                    <Insets bottom="3.0" left="3.0" right="3.0" top="3.0" />
                                </VBox.margin>
                            </CheckBox>
                        </children>
                    </VBox>
                </top>
                <right>
                    <VBox fx:id="box" alignment="CENTER" maxHeight="20.0" maxWidth="250.0" prefHeight="137.0" prefWidth="300.0" BorderPane.alignment="BOTTOM_RIGHT">
                            <TextField fx:id="addressField" text="" minWidth="0" maxWidth="100" style="-fx-padding: 0 0 0 0;">
                                <VBox.margin>
                                    <Insets right="3" left="150" bottom="0" top="0"/>
                                </VBox.margin>
                            </TextField>
                    </VBox>
                </right>
            </BorderPane>
    </root>
    <fx:define>
    <VBox fx:id="popUpPOIBox" style="-fx-background-color: grey;" minWidth="200" maxWidth="200" minHeight="100" maxHeight="100">
        <TextField fx:id="inputPOI" minWidth="150" maxWidth="150" promptText="ENTER NAME" editable="true">
            <VBox.margin>
                <Insets right="0" left="25" bottom="0" top="20"/>
            </VBox.margin>
        </TextField>
        <Button text="SUBMIT SAVED POINT" minWidth="150" maxWidth="150" onAction="#addPOI">
            <VBox.margin>
                <Insets right="0" left="25" bottom="0" top="5"/>
            </VBox.margin>
        </Button>
    </VBox>
    <VBox fx:id="popUpRouteBox" style="-fx-background-color: grey;" minWidth="200" maxWidth="200">
        <TextArea   fx:id="routeDescriptionTextArea"
                    text=""
                    minHeight="425"
                    editable="false"
                    wrapText="true">
        </TextArea>
    </VBox>
    </fx:define>
    </Scene>